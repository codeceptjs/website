---
import "meilisearch-docsearch/css";
const apiKey = import.meta.env.PUBLIC_MEILISEARCH_KEY;
---

<div id="docsearch"></div>

<script is:inline type="module" async define:vars={{ apiKey }}>

    import { docsearch } from "https://cdn.jsdelivr.net/npm/meilisearch-docsearch@latest/dist/index.bundled.esm.js"

    docsearch({
        container: "#docsearch",
        host: 'https://search.codecept.io',
        apiKey: apiKey,
        indexUid: "docs",
    });
</script>

<script>
    document.addEventListener("astro:before-preparation", () => {
        document.querySelector<HTMLButtonElement>(".docsearch-modal-search-cancel-btn")?.click();
    });
</script>

<style is:global>
    .search-pro-result-title {
        font-size: 1.25rem !important;
        font-weight: 600;
    }
</style>
